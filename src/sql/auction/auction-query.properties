listCount=SELECT COUNT(*) FROM AUCTION_M
AuPagingBefore=SELECT RNUM,AUCTION_ID,AUCTION_TYPE, AUCTION_COUNT,AUCTION_AR1_ID FROM (SELECT ROWNUM RNUM, AUCTION_ID,AUCTION_TYPE, AUCTION_COUNT,AUCTION_AR1_ID FROM (SELECT A.AUCTION_AR1_ID,A.AUCTION_ID, MAX(SUBSTR(AH.AUCTION_HISTORY_TYPE, 4, 1)) AS "AUCTION_TYPE", AUCTION_COUNT FROM AUCTION A LEFT OUTER JOIN AUCTION_HISTORY AH ON (A.AUCTION_ID = AH.AUCTION_ID) GROUP BY A.AUCTION_ID,AUCTION_COUNT,A.AUCTION_AR1_ID ORDER BY AUCTION_ID DESC)) WHERE RNUM BETWEEN ? AND ?
AuPaging=SELECT RNUM,AUCTION_ID,AUCTION_STATUS, AUCTION_COUNT,AUCTION_AR1_ID FROM (SELECT ROWNUM RNUM, AUCTION_ID,AUCTION_STATUS, AUCTION_COUNT,AUCTION_AR1_ID FROM (SELECT AUCTION_ID, AUCTION_COUNT,AUCTION_AR1_ID,SUBSTR(AUCTION_STATUS, 4, 1) AS "AUCTION_STATUS" FROM  AUCTION ORDER BY AUCTION_ID DESC)) WHERE RNUM BETWEEN ? AND ?
test=SELECT RNUM, AUCTION_ID, AUCTION_COUNT, AUCTION_START_PRICE, AUCTION_MEMBER_NO, AUCTION_START_TIME, AUCTION_PERIOD, AUCTION_APP_ID FROM (SELECT ROWNUM RNUM, AUCTION_ID, AUCTION_COUNT, AUCTION_START_PRICE, AUCTION_MEMBER_NO, AUCTION_START_TIME, AUCTION_PERIOD, AUCTION_APP_ID FROM (SELECT AUCTION_ID, AUCTION_COUNT, AUCTION_START_PRICE, AUCTION_MEMBER_NO, AUCTION_START_TIME, AUCTION_PERIOD, AUCTION_APP_ID FROM AUCTION ORDER BY AUCTION_ID DESC)) WHERE RNUM BETWEEN ? AND ?
startAuction=UPDATE AUCTION SET AUCTION_COUNT = AUCTION_COUNT + 1, AUCTION_START_PRICE = ?, AUCTION_START_TIME = DEFAULT, AUCTION_PERIOD = ?, AUCTION_STATUS = 'AHT2' WHERE AUCTION_AR1_ID = (SELECT AR1_ID FROM AR1 AR JOIN APP AP ON(AR.APP_ID = AP.APP_ID) JOIN ITEM I ON(AP.APP_ITEM_ID = I.ITEM_ID) WHERE I.ITEM_ID = ?)
insertAuctionHistory=INSERT INTO AUCTION_HISTORY VALUES(SEQ_AUCTION_HISTORY.NEXTVAL, DEFAULT, ?, (SELECT AR1_ID FROM AR1 AR JOIN APP AP ON(AR.APP_ID = AP.APP_ID) JOIN ITEM I ON(AP.APP_ITEM_ID = I.ITEM_ID) WHERE I.ITEM_ID = ?))
doAuction=SELECT AC.AUCTION_ID, AT.ATTACHMENT_RENAME , I.ITEM_BRAND_MODEL, AC.AUCTION_START_PRICE, B.BIDDING_PRICE, (SELECT COUNT(*) FROM BIDDING_HISTORY WHERE BIDDING_AUCTION_ID = AC.AUCTION_ID) - 1, ROUND(((AC.AUCTION_START_TIME + AC.AUCTION_PERIOD) - (SYSDATE + 9/24 + 1/1440 + 14/86400)) * 24 * 60 * 60) FROM ITEM I JOIN MEMBER M ON(I.ITEM_MEMBER_NO = M.MEMBER_NO) FULL OUTER JOIN APP A ON(I.ITEM_ID = A.APP_ITEM_ID) FULL OUTER JOIN AR1 AR ON(A.APP_ID = AR.APP_ID) FULL OUTER JOIN AUCTION AC ON(AR.AR1_ID = AC.AUCTION_AR1_ID) FULL OUTER JOIN ATTACHMENT AT ON(A.APP_ID = AT.ATTACHMENT_REF_APP) JOIN BIDDING_HISTORY B ON(AC.AUCTION_ID = B.BIDDING_AUCTION_ID) WHERE M.MEMBER_NO = ? AND (AT.ATTACHMENT_LEVEL = 0 OR AT.ATTACHMENT_LEVEL IS NULL) AND AC.AUCTION_COUNT <> 0 AND B.BIDDING_PRICE = (SELECT MAX(BIDDING_PRICE) FROM BIDDING_HISTORY WHERE BIDDING_AUCTION_ID = AC.AUCTION_ID) AND AC.AUCTION_STATUS = 'AHT2'
selectOne1=SELECT * FROM AUCTION_M A JOIN ATTACHMENT AT ON(A.AUCTION_APP_ID = AT.ATTACHMENT_REF_APP) WHERE A.AUCTION_APP_ID = ?
selectOne=SELECT * FROM AR1 AR JOIN AUCTION A ON(A.AUCTION_AR1_ID = ar.AR1_Id ) JOIN ATTACHMENT AT ON(ar.app_id = AT.ATTACHMENT_REF_APP) LEFT OUTER JOIN WATCH W ON(W.WATCH_ID = ar.ar1_watch_detail) LEFT OUTER JOIN BAG B ON(B.Bag_ID = ar.ar1_bag_detail) JOIN MEMBER M ON (M.MEMBER_NO = A.AUCTION_MEMBER_NO) WHERE AR.APP_ID = ?
isWatch=SELECT * FROM AR1 AR WHERE AR1_WATCH_DETAIL IS NOT NULL AND APP_ID = ?
insertBiddingHistory=INSERT INTO BIDDING_HISTORY VALUES(SEQ_BIDDING_HISTORY.NEXTVAL, (SELECT A.AUCTION_ID FROM AUCTION A JOIN AR1 AR ON(A.AUCTION_AR1_ID = AR.AR1_ID) JOIN APP AP ON(AR.APP_ID = AP.APP_ID) JOIN ITEM I ON(AP.APP_ITEM_ID = I.ITEM_ID) WHERE A.AUCTION_MEMBER_NO = ? AND I.ITEM_ID = ?), ?, 0, ?, SYSDATE + 9/24 + 1/1440 + 14/86400)
selectOneBid=SELECT m.member_id as "MEMBER_ID" ,ATTACHMENT_RENAME,AUCTION_ID,AUCTION_COUNT,AUCTION_START_PRICE,AUCTION_MEMBER_NO,AUCTION_START_TIME,AUCTION_PERIOD,AUCTION_APP_DATE,AUCTION_AR1_ID,AUCTION_STATUS,AR1_ID,AR1_BRAND,AR1_MODEL,AR1_PRICE,AR1_WATCH_DETAIL,AR1_BAG_DETAIL,AR1_CONDITION,ap.APP_ID,AR1_WATCH_BAG,WATCH_ID,WATCH_GUARANTEE_YN,WATCH_BOX_YN,WATCH_MATERIAL,WATCH_MOVEMENT,WATCH_CHRONOGRAPH,BAG_ID,BAG_SIZE,BAG_STRAP,BAG_GENDER,M1.member_id AS "WINNER",m2.member_id as "2ND",WIN_AUCTION_ID,WIN_STATUS,win_price,win_second_price FROM AR1 AR JOIN AUCTION A ON(A.AUCTION_AR1_ID = ar.AR1_Id ) JOIN ATTACHMENT AT ON(ar.app_id = AT.ATTACHMENT_REF_APP) LEFT OUTER JOIN WATCH W ON(W.WATCH_ID = ar.ar1_watch_detail) LEFT OUTER JOIN BAG B ON(B.Bag_ID = ar.ar1_bag_detail) LEFT OUTER JOIN WIN WIN ON(WIN.WIN_AUCTION_ID = A.AUCTION_ID) JOIN APP AP ON(AP.app_id = ar.app_id) JOIN ITEM I ON(I.item_id = ap.app_item_id) JOIN MEMBER M ON (M.member_no = i.item_member_no) LEFT OUTER JOIN MEMBER M1 ON(M1.MEMBER_no = win.win_member_no) LEFT OUTER JOIN MEMBER M2 ON(M2.MEMBER_no = win.win_second_member_no) WHERE AR.APP_ID = ?
selectOneBidBefore=SELECT * FROM AR1 AR JOIN AUCTION A ON(A.AUCTION_AR1_ID = ar.AR1_Id ) JOIN ATTACHMENT AT ON(ar.app_id = AT.ATTACHMENT_REF_APP) LEFT OUTER JOIN WATCH W ON(W.WATCH_ID = ar.ar1_watch_detail) LEFT OUTER JOIN BAG B ON(B.Bag_ID = ar.ar1_bag_detail) LEFT OUTER JOIN WIN WIN ON(WIN.WIN_AUCTION_ID = A.AUCTION_ID) LEFT OUTER JOIN MEMBER M1 ON(M1.MEMBER_no = win.win_member_no) LEFT OUTER JOIN MEMBER M2 ON(M2.MEMBER_no = win.win_second_member_no) WHERE AR.APP_ID = ?
getBiddingList=SELECT BH.BIDDING_ID ,BH.BIDDING_AUCTION_ID ,M.member_id ,BH.BIDDING_COUNT ,BH.BIDDING_PRICE ,TO_CHAR(BH.BIDDING_TIME, 'HH24:MI:SS') AS "BIDDING_TIME",BH.BIDDING_TIME AS "BIDDING_DATE"  FROM AR1 AR JOIN AUCTION A ON(A.AUCTION_AR1_ID = ar.AR1_Id ) JOIN BIDDING_HISTORY BH ON(a.auction_id = BH.bidding_auction_id) JOIN MEMBER M ON (M.member_no = Bh.bidding_member_no) WHERE ar.app_id=? ORDER BY BIDDING_PRICE DESC
getMemberId=SELECT * FROM APP AP JOIN ITEM I ON(I.item_id = ap.app_item_id) JOIN MEMBER M ON (M.member_no = i.item_member_no) where ap.app_id =?

selectClosedAuctionIds=SELECT AUCTION_ID FROM AUCTION JOIN AUCTION_HISTORY USING(AUCTION_ID) WHERE AUCTION_MEMBER_NO = ? AND AUCTION_HISTORY_TYPE IN('AHT3', 'AHT4')
serverSelectList=SELECT AC.AUCTION_ID, AC.AUCTION_START_PRICE, M.MEMBER_ID, ROUND(((AC.AUCTION_START_TIME + AC.AUCTION_PERIOD) - (SYSDATE + 9/24 + 1/1440 + 14/86400)) * 24 * 60 * 60) FROM AUCTION AC JOIN MEMBER M ON(AC.AUCTION_MEMBER_NO = M.MEMBER_NO) WHERE AUCTION_STATUS = 'AHT2'
failAuction=UPDATE AUCTION SET AUCTION_STATUS = 'AHT4' WHERE AUCTION_ID = ?
winAuction=UPDATE AUCTION SET AUCTION_STATUS = 'AHT3' WHERE AUCTION_ID = ?
insertEndAuctionHistory=INSERT INTO AUCTION_HISTORY VALUES(SEQ_AUCTION_HISTORY.NEXTVAL, SYSDATE, ?, ?)
selectWinner=SELECT RK, BIDDING_MEMBER_NO, BIDDING_AUCTION_ID, BIDDING_PRICE FROM (SELECT RANK() OVER (ORDER BY BIDDING_PRICE DESC) AS "RK", BIDDING_MEMBER_NO, BIDDING_AUCTION_ID, BIDDING_PRICE FROM BIDDING_HISTORY WHERE BIDDING_AUCTION_ID = ?) WHERE RK <= 2
insertWinner=INSERT INTO WIN VALUES (?, ?, ?, ?, ?, 1, SYSDATE)

selectMemberClosedAuctionList=SELECT RNUM, AUCTION_ID, ATTACHMENT_RENAME, AR1_BRAND, AR1_MODEL, WIN_PRICE, AUCTION_STATUS, WIN_SECOND_PRICE, WIN_STATUS, AUCTION_COUNT, DECODE(MONEY_STATUS,'MT3','paid','not paid') AS "MONEY_STATUS" FROM (SELECT ROWNUM RNUM, AUCTION_ID, ATTACHMENT_RENAME, AR1_BRAND, AR1_MODEL, WIN_MEMBER_NO, WIN_PRICE, WIN_SECOND_MEMBER_NO, WIN_SECOND_PRICE, WIN_STATUS,AUCTION_STATUS, AUCTION_COUNT, MONEY_STATUS FROM (SELECT AU.AUCTION_ID, ATTACHMENT_RENAME, AR1_BRAND, AR1_MODEL,WIN_MEMBER_NO, WIN_PRICE, WIN_SECOND_MEMBER_NO, WIN_SECOND_PRICE, WIN_STATUS,AUCTION_STATUS, AUCTION_COUNT, MONEY_STATUS FROM AUCTION AU JOIN AR1 AR ON (AU.AUCTION_AR1_ID=AR.AR1_ID) JOIN APP AP ON(AR.APP_ID = AP.APP_ID) JOIN ATTACHMENT AT ON (AP.APP_ID = AT.ATTACHMENT_REF_APP) LEFT JOIN WIN W ON (AU.AUCTION_ID= W.WIN_AUCTION_ID) LEFT JOIN MONEY M ON (W.WIN_AUCTION_ID = M.MONEY_SUBJECT_WIN) WHERE AUCTION_MEMBER_NO=? AND ATTACHMENT_LEVEL=0 AND AUCTION_STATUS IN('AHT3', 'AHT4') ORDER BY (WIN_DATE) DESC)) WHERE RNUM BETWEEN ? AND ?
memberClosedAuctionCount=SELECT COUNT(*) FROM AUCTION WHERE AUCTION_MEMBER_NO=? AND AUCTION_STATUS IN('AHT3', 'AHT4')






